apply plugin: 'java'
apply plugin: 'eclipse-wtp'
apply plugin: 'war'

ext {
	encoding = 'UTF-8'
	javaVersion = '1.8'	
	versions = [
		spring: '4.2.2.RELEASE',
		springSecurity: '4.0.2.RELEASE',
		servletApi: '3.1.0',
		taglib: '1.2.5',
		jspJstl: '1.2.1',
		logback: '1.1.3',
		jcloverslf4j: '1.7.12',
		aspectj: '1.8.7',
		cglib: '3.1',
		lombok: '1.16.6',		
		jsfApi: '2.2.12',
		jstl: '1.2',
		jquery: '2.1.4',
		poi: '3.13',
		mybatis: '3.3.0',
		tiles: '3.0.5'
	]
}

sourceCompatibility = javaVersion
targetCompatibility = javaVersion
version = '1.0'

jar {
    manifest {
        attributes 'Implementation-Title': 'Gradle Quickstart',
                   'Implementation-Version': version
    }
}

repositories {
    mavenCentral()
}

eclipse {
 wtp {
  facet {
   facet name: 'jst.web', version: '3.1'
   facet name: 'jst.java', version: '1.8'
  }
 }
}

def lib = [
	'servlet': [
		"javax.servlet:javax.servlet-api:"+versions.servletApi,
		//'javax.faces:javax.faces-api:2.2',		
		'javax.servlet.jsp:javax.servlet.jsp-api:2.3.2-b02'			
	],
	'spring': [
		'org.springframework:spring-beans:'+versions.spring, 
		'org.springframework:spring-core:'+versions.spring,
    	'org.springframework:spring-webmvc:'+versions.spring,
    	'org.springframework:spring-web:'+versions.spring,  
    	'org.springframework:spring-context:'+versions.spring,	
    	'org.springframework:spring-tx:'+versions.spring,
    	'org.springframework:spring-jdbc:'+versions.spring,
    	'org.springframework:spring-expression:'+versions.spring,    
    	'org.springframework:spring-context-support:'+versions.spring,
    	'org.springframework:spring-oxm:'+versions.spring,
    	'org.mybatis:mybatis-spring:1.2.3',
    	'org.springframework.security:spring-security-core:'+versions.springSecurity,
    	'org.springframework.security:spring-security-config:'+versions.springSecurity,    	
    	'org.springframework.security:spring-security-web:'+versions.springSecurity,
    	'org.springframework.security:spring-security-taglibs:'+versions.springSecurity
	],
	'saml': [
		'org.springframework.security.extensions:spring-security-saml2-core:1.0.1.RELEASE'
	],
	'aop': [
		'org.aspectj:aspectjrt:'+versions.aspectj,
		'cglib:cglib:'+versions.cglib,
		'cglib:cglib-nodep:'+versions.cglib
	],
	'etc': [
		'commons-codec:commons-codec:1.8',
		'commons-dbcp:commons-dbcp:1.4',
		'commons-collections:commons-collections:3.2.1',
		'commons-beanutils:commons-beanutils:1.9.2',
		'com.sun.faces:jsf-api:'+versions.jsfApi,
		'ch.qos.logback:logback-classic:'+versions.logback,
		'org.logback-extensions:logback-ext-spring:0.1.4',
		'org.apache.taglibs:taglibs-standard-impl:'+versions.taglib,
		'org.slf4j:jcl-over-slf4j:'+versions.jcloverslf4j,
		'org.apache.poi:poi:'+versions.poi,
		'commons-fileupload:commons-fileupload:1.3.1',
		'org.imgscalr:imgscalr-lib:4.2',
		'edu.vt.middleware:vt-password:3.1.2',
		'org.mybatis:mybatis:'+versions.mybatis,
		'net.sf.ehcache:ehcache:2.10.1',
		'org.apache.commons:commons-lang3:3.4',
		'org.jsoup:jsoup:1.8.3',				
    	'javax.servlet:jstl:'+versions.jstl,
    	'javax.mail:javax.mail-api:1.5.4',
    	'javax.validation:validation-api:1.1.0.Final',
    	'org.hibernate:hibernate-validator:5.2.2.Final',
    	'org.apache.poi:poi:3.13',
    	'org.apache.poi:poi-ooxml:3.13',
    	'com.mortennobel:java-image-scaling:0.8.6',
    	'com.fasterxml.jackson.core:jackson-databind:2.6.3',
    	'com.fasterxml.jackson.core:jackson-core:2.6.3',
    	'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.6.2',
    	'com.googlecode.json-simple:json-simple:1.1.1',
    	'org.lazyluke:log4jdbc-remix:0.2.7',
    	'postgresql:postgresql:9.1-901-1.jdbc4'
	],
	'sitemesh': [
		'opensymphony:sitemesh:2.4.2'
	],
	'lombok' : [
		'org.projectlombok:lombok:'+versions.lombok,
	],
	'jslib': [
		'org.webjars:jquery:'+versions.jquery			
	],
	'test': [
    	'org.springframework:spring-test:'+versions.spring,
    	'org.seleniumhq.selenium:selenium-java:2.48.2',
    	'junit:junit:4.+',
    	'org.mockito:mockito-core:2.+',
    	'org.hamcrest:hamcrest-core:1.3',
    	'org.hamcrest:hamcrest-library:1.3'	
	]
]

dependencies {
	// 而댄뙆�씪�떆�뿉留� �궗�슜�븯�뒗 libraries
	providedCompile lib.servlet, lib.lombok, lib.test
	// 而댄뙆�씪 + �윴���엫�떆�뿉 �궗�슜�븯�뒗 libraries		
	compile lib.spring, lib.aop, lib.etc, lib.jslib, lib.saml, lib.sitemesh
	// 而댄뙆�씪�떆�뿉 lib 寃쎈줈諛륁쓽 jar �뙆�씪�룄 異붽��븿	
	compile fileTree(dir: "lib", include: '*.jar')
}

test {
    systemProperties 'property': 'value'
}

uploadArchives {
    repositories {
       flatDir {
           dirs 'repos'
       }
    }
}
